(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{8654:function(e,t,a){Promise.resolve().then(a.bind(a,3596))},3596:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(7437),n=a(2265),s=a(9179),l=a(3464),i=a(6070),c=a(2759),o=a(6595),d=a(3327),u=a(525),m=a(9474),f=a(1671),x=a(6337),p=a(1047);function h(){let{user:e}=(0,s.a)(),[t,a]=(0,n.useState)([]),[h,v]=(0,n.useState)([]),[g,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(!0),b="https://enroll-repair.preview.emergentagent.com";(0,n.useEffect)(()=>{e&&w()},[e]);let w=async()=>{try{let t=await l.Z.get("".concat(b,"/gamification/badges"));a(t.data);let r=await l.Z.get("".concat(b,"/gamification/user-badges/").concat(null==e?void 0:e.id));v(r.data);let n=await l.Z.get("".concat(b,"/gamification/user-stats/").concat(null==e?void 0:e.id));y(n.data)}catch(e){console.error("Error loading gamification data:",e)}finally{N(!1)}},Z=e=>h.some(t=>t.badges.id===e),k=e=>{let t=h.find(t=>t.badges.id===e);return t?new Date(t.achieved_at).toLocaleDateString():null};if(j)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-pulse text-gray-600",children:"Loading achievements..."})});let C=g?g.badges_earned/g.total_badges*100:0;return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Achievements & Badges"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track your progress and unlock achievements"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(i.Zb,{children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Points"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-teal-600",children:(null==g?void 0:g.total_points)||0})]}),(0,r.jsx)(o.Z,{className:"w-10 h-10 text-yellow-500"})]})})}),(0,r.jsx)(i.Zb,{children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Badges Earned"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:(null==g?void 0:g.badges_earned)||0}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["of ",(null==g?void 0:g.total_badges)||0]})]}),(0,r.jsx)(d.Z,{className:"w-10 h-10 text-purple-600"})]})})}),(0,r.jsx)(i.Zb,{children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:(null==g?void 0:g.streak_days)||0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"days"})]}),(0,r.jsx)(u.Z,{className:"w-10 h-10 text-orange-600"})]})})}),(0,r.jsx)(i.Zb,{children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Leaderboard Rank"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-teal-600",children:["#",(null==g?void 0:g.rank)||"-"]})]}),(0,r.jsx)(m.Z,{className:"w-10 h-10 text-yellow-500"})]})})})]}),(0,r.jsxs)(i.Zb,{className:"mb-8",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5"}),"Badge Collection Progress"]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:[(null==g?void 0:g.badges_earned)||0," of ",(null==g?void 0:g.total_badges)||0," badges earned"]}),(0,r.jsxs)("span",{className:"font-medium text-teal-600",children:[C.toFixed(0),"%"]})]}),(0,r.jsx)(c.E,{value:C,className:"h-3"})]})})]}),["achievement","course_completion","streak","milestone"].map(e=>{let a=t.filter(t=>t.badge_type===e);return 0===a.length?null:(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 capitalize flex items-center gap-2",children:["achievement"===e&&(0,r.jsx)(o.Z,{className:"w-6 h-6 text-yellow-500"}),"course_completion"===e&&(0,r.jsx)(d.Z,{className:"w-6 h-6 text-purple-600"}),"streak"===e&&(0,r.jsx)(u.Z,{className:"w-6 h-6 text-orange-600"}),"milestone"===e&&(0,r.jsx)(m.Z,{className:"w-6 h-6 text-teal-600"}),e.replace("_"," ")," Badges"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(e=>{let t=Z(e.id),a=k(e.id);return(0,r.jsxs)(i.Zb,{className:"relative overflow-hidden transition-all ".concat(t?"border-teal-500 shadow-lg":"opacity-60"),children:[t&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)(f.Z,{className:"w-6 h-6 text-green-500"})}),(0,r.jsxs)(i.aY,{className:"pt-6 text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full flex items-center justify-center ".concat(t?"bg-gradient-to-br from-teal-400 to-teal-600":"bg-gray-200"),children:t?(0,r.jsx)("img",{src:e.icon_url,alt:e.name,className:"w-16 h-16"}):(0,r.jsx)(x.Z,{className:"w-12 h-12 text-gray-400"})}),(0,r.jsx)("h3",{className:"font-bold text-gray-900 mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 text-yellow-500"}),(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[e.points," points"]})]}),t&&a&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500",children:[(0,r.jsx)(p.Z,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:["Earned ",a]})]})})]})]},e.id)})})]},e)}),(0,r.jsx)(i.Zb,{className:"bg-gradient-to-r from-teal-50 to-blue-50 border-teal-200",children:(0,r.jsx)(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(m.Z,{className:"w-12 h-12 text-teal-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Keep Learning!"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:"Complete more courses and quizzes to unlock new badges and climb the leaderboard! \uD83D\uDE80"})]})]})})})]})})}},6070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var r=a(7437),n=a(2265),s=a(4508);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},2759:function(e,t,a){"use strict";a.d(t,{E:function(){return i}});var r=a(7437),n=a(2265),s=a(610),l=a(4508);let i=n.forwardRef((e,t)=>{let{className:a,value:n,...i}=e;return(0,r.jsx)(s.fC,{ref:t,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...i,children:(0,r.jsx)(s.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});i.displayName=s.fC.displayName},9179:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return i},a:function(){return c}});var r=a(7437),n=a(2265),s=a(2141);let l=(0,n.createContext)({user:null,loading:!0,signOut:async()=>{}});function i(e){let{children:t}=e,[a,i]=(0,n.useState)(null),[c,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{s.O.auth.getSession().then(e=>{var t;let{data:{session:a}}=e;i(null!==(t=null==a?void 0:a.user)&&void 0!==t?t:null),o(!1)});let{data:{subscription:e}}=s.O.auth.onAuthStateChange((e,t)=>{var a;i(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),o(!1)});return()=>e.unsubscribe()},[]);let d=async()=>{await s.O.auth.signOut(),i(null)};return(0,r.jsx)(l.Provider,{value:{user:a,loading:c,signOut:d},children:t})}let c=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2141:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});var r=a(1545);let n="https://wbuvopdgcksviirckaur.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndidXZvcGRnY2tzdmlpcmNrYXVyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMjMzMTIsImV4cCI6MjA3NTU5OTMxMn0.elWqpSmCfQ92fpepHoRU77O-x9nMvv8MXZyaV7dUV9s";if(!n||!s)throw Error("Missing Supabase environment variables");let l=(0,r.eI)(n,s)},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(1994),n=a(3335);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}},3327:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},1047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6337:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6595:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},525:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},9474:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},8575:function(e,t,a){"use strict";a.d(t,{F:function(){return s},e:function(){return l}});var r=a(2265);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let a=!1,r=e.map(e=>{let r=n(e,t);return a||"function"!=typeof r||(a=!0),r});if(a)return()=>{for(let t=0;t<r.length;t++){let a=r[t];"function"==typeof a?a():n(e[t],null)}}}}function l(...e){return r.useCallback(s(...e),e)}},3966:function(e,t,a){"use strict";a.d(t,{b:function(){return s}});var r=a(2265),n=a(7437);function s(e,t=[]){let a=[],s=()=>{let t=a.map(e=>r.createContext(e));return function(a){let n=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:n}}),[a,n])}};return s.scopeName=e,[function(t,s){let l=r.createContext(s),i=a.length;a=[...a,s];let c=t=>{let{scope:a,children:s,...c}=t,o=a?.[e]?.[i]||l,d=r.useMemo(()=>c,Object.values(c));return(0,n.jsx)(o.Provider,{value:d,children:s})};return c.displayName=t+"Provider",[c,function(a,n){let c=n?.[e]?.[i]||l,o=r.useContext(c);if(o)return o;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=a.reduce((t,{useScope:a,scopeName:r})=>{let n=a(e)[`__scope${r}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return a.scopeName=t.scopeName,a}(s,...t)]}},6840:function(e,t,a){"use strict";a.d(t,{WV:function(){return l}});var r=a(2265);a(4887);var n=a(7053),s=a(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,n.Z8)(`Primitive.${t}`),l=r.forwardRef((e,r)=>{let{asChild:n,...l}=e,i=n?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...l,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{})},610:function(e,t,a){"use strict";a.d(t,{fC:function(){return j},z$:function(){return N}});var r=a(2265),n=a(3966),s=a(6840),l=a(7437),i="Progress",[c,o]=(0,n.b)(i),[d,u]=c(i),m=r.forwardRef((e,t)=>{var a,r,n,i;let{__scopeProgress:c,value:o=null,max:u,getValueLabel:m=p,...f}=e;(u||0===u)&&!g(u)&&console.error((a="".concat(u),r="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=g(u)?u:100;null===o||y(o,x)||console.error((n="".concat(o),i="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=y(o,x)?o:null,N=v(j)?m(j,x):void 0;return(0,l.jsx)(d,{scope:c,value:j,max:x,children:(0,l.jsx)(s.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":v(j)?j:void 0,"aria-valuetext":N,role:"progressbar","data-state":h(j,x),"data-value":null!=j?j:void 0,"data-max":x,...f,ref:t})})});m.displayName=i;var f="ProgressIndicator",x=r.forwardRef((e,t)=>{var a;let{__scopeProgress:r,...n}=e,i=u(f,r);return(0,l.jsx)(s.WV.div,{"data-state":h(i.value,i.max),"data-value":null!==(a=i.value)&&void 0!==a?a:void 0,"data-max":i.max,...n,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function y(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=f;var j=m,N=x},7053:function(e,t,a){"use strict";a.d(t,{Z8:function(){return l},g7:function(){return i}});var r=a(2265),n=a(8575),s=a(7437);function l(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:a,...s}=e;if(r.isValidElement(a)){let e,l;let i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref,c=function(e,t){let a={...t};for(let r in t){let n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?a[r]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(a[r]=n):"style"===r?a[r]={...n,...s}:"className"===r&&(a[r]=[n,s].filter(Boolean).join(" "))}return{...e,...a}}(s,a.props);return a.type!==r.Fragment&&(c.ref=t?(0,n.F)(t,i):i),r.cloneElement(a,c)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),a=r.forwardRef((e,a)=>{let{children:n,...l}=e,i=r.Children.toArray(n),c=i.find(o);if(c){let e=c.props.children,n=i.map(t=>t!==c?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...l,ref:a,children:n})});return a.displayName=`${e}.Slot`,a}var i=l("Slot"),c=Symbol("radix.slottable");function o(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}}},function(e){e.O(0,[4609,8590,1545,3464,2971,2117,1744],function(){return e(e.s=8654)}),_N_E=e.O()}]);