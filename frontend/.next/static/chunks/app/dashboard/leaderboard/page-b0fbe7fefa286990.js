(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7692],{3461:function(e,t,s){Promise.resolve().then(s.bind(s,400))},400:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(7437),r=s(2265),l=s(9179),n=s(3464),i=s(6070),c=s(6831),d=s(9205);let o=(0,d.Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),x=(0,d.Z)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var u=s(9474),m=s(6595),h=s(525),f=s(3327);function j(){var e,t,s;let{user:d}=(0,l.a)(),[j,p]=(0,r.useState)([]),[y,g]=(0,r.useState)(!0),[b,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{v()},[d]);let v=async()=>{try{let e=await n.Z.get("".concat("https://enroll-repair.preview.emergentagent.com","/gamification/leaderboard?limit=100"));if(p(e.data),d){let t=e.data.find(e=>e.user_id===d.id);N(t||null)}}catch(e){console.error("Error loading leaderboard:",e)}finally{g(!1)}},w=e=>1===e?(0,a.jsx)(o,{className:"w-6 h-6 text-yellow-500"}):2===e?(0,a.jsx)(x,{className:"w-6 h-6 text-gray-400"}):3===e?(0,a.jsx)(x,{className:"w-6 h-6 text-orange-600"}):null,k=e=>1===e?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white":2===e?"bg-gradient-to-r from-gray-300 to-gray-500 text-white":3===e?"bg-gradient-to-r from-orange-400 to-orange-600 text-white":"bg-gray-100 text-gray-700";return y?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-pulse text-gray-600",children:"Loading leaderboard..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,a.jsx)(u.Z,{className:"w-8 h-8 text-yellow-500"}),"Leaderboard"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Compete with other learners and climb to the top!"})]}),b&&(0,a.jsxs)(i.Zb,{className:"mb-8 border-teal-500 bg-gradient-to-r from-teal-50 to-blue-50",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Your Ranking"})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ".concat(k(b.rank)),children:["#",b.rank]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:b.users.full_name||"You"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Keep learning to improve your rank!"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-teal-600",children:b.total_points}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Points"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:b.courses_completed}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Completed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:b.streak_days}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Day Streak"})]})]})]})})]}),j.length>=3&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,a.jsx)(i.Zb,{className:"transform translate-y-8",children:(0,a.jsxs)(i.aY,{className:"pt-6 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full bg-gradient-to-br from-gray-300 to-gray-500 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl font-bold text-white",children:"2"})}),(0,a.jsxs)(c.qE,{className:"w-16 h-16 mx-auto mb-3 border-4 border-gray-300",children:[(0,a.jsx)(c.F$,{src:j[1].users.avatar_url}),(0,a.jsx)(c.Q5,{children:(null===(e=j[1].users.full_name)||void 0===e?void 0:e.charAt(0))||"U"})]}),(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:j[1].users.full_name||"User"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 text-gray-600",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("span",{className:"font-semibold",children:j[1].total_points})]})]})}),(0,a.jsx)(i.Zb,{className:"border-yellow-500 shadow-xl",children:(0,a.jsxs)(i.aY,{className:"pt-6 text-center",children:[(0,a.jsx)(o,{className:"w-10 h-10 text-yellow-500 mx-auto mb-2"}),(0,a.jsx)("div",{className:"w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-4xl font-bold text-white",children:"1"})}),(0,a.jsxs)(c.qE,{className:"w-20 h-20 mx-auto mb-3 border-4 border-yellow-500",children:[(0,a.jsx)(c.F$,{src:j[0].users.avatar_url}),(0,a.jsx)(c.Q5,{children:(null===(t=j[0].users.full_name)||void 0===t?void 0:t.charAt(0))||"U"})]}),(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-1 text-lg",children:j[0].users.full_name||"User"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 text-gray-600",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("span",{className:"font-semibold text-lg",children:j[0].total_points})]})]})}),(0,a.jsx)(i.Zb,{className:"transform translate-y-8",children:(0,a.jsxs)(i.aY,{className:"pt-6 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl font-bold text-white",children:"3"})}),(0,a.jsxs)(c.qE,{className:"w-16 h-16 mx-auto mb-3 border-4 border-orange-400",children:[(0,a.jsx)(c.F$,{src:j[2].users.avatar_url}),(0,a.jsx)(c.Q5,{children:(null===(s=j[2].users.full_name)||void 0===s?void 0:s.charAt(0))||"U"})]}),(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:j[2].users.full_name||"User"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 text-gray-600",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("span",{className:"font-semibold",children:j[2].total_points})]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5"}),"Top Learners"]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"space-y-3",children:j.slice(0,50).map((e,t)=>{var s;return(0,a.jsx)("div",{className:"flex items-center justify-between p-4 rounded-lg transition-colors ".concat(e.user_id===(null==d?void 0:d.id)?"bg-teal-50 border border-teal-200":"bg-gray-50 hover:bg-gray-100"),children:(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold ".concat(k(e.rank)),children:w(e.rank)||"#".concat(e.rank)}),(0,a.jsxs)(c.qE,{className:"w-10 h-10",children:[(0,a.jsx)(c.F$,{src:e.users.avatar_url}),(0,a.jsx)(c.Q5,{children:(null===(s=e.users.full_name)||void 0===s?void 0:s.charAt(0))||"U"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.users.full_name||"Anonymous User",e.user_id===(null==d?void 0:d.id)&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-teal-600 text-white px-2 py-0.5 rounded-full",children:"You"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.courses_completed," courses completed • ",e.streak_days," day streak"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-teal-600",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("span",{className:"text-xl font-bold",children:e.total_points})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"points"})]})]})},e.id)})}),0===j.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(u.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No leaderboard data available yet."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Start learning to appear on the leaderboard!"})]})]})]}),(0,a.jsx)(i.Zb,{className:"mt-6 bg-blue-50 border-blue-200",children:(0,a.jsx)(i.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(f.Z,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"How to Earn Points"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{children:"• Complete lessons and courses"}),(0,a.jsx)("li",{children:"• Score high on quizzes"}),(0,a.jsx)("li",{children:"• Earn badges and achievements"}),(0,a.jsx)("li",{children:"• Maintain daily learning streaks"})]})]})]})})})]})})}},6831:function(e,t,s){"use strict";s.d(t,{F$:function(){return i},Q5:function(){return c},qE:function(){return n}});var a=s(7437),r=s(2265),l=s(4508);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});n.displayName="Avatar";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("img",{ref:t,className:(0,l.cn)("aspect-square h-full w-full object-cover",s),...r})});i.displayName="AvatarImage";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-teal-100 text-teal-700 font-semibold",s),...r})});c.displayName="AvatarFallback"},6070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var a=s(7437),r=s(2265),l=s(4508);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},9179:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return c}});var a=s(7437),r=s(2265),l=s(2141);let n=(0,r.createContext)({user:null,loading:!0,signOut:async()=>{}});function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{l.O.auth.getSession().then(e=>{var t;let{data:{session:s}}=e;i(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),d(!1)});let{data:{subscription:e}}=l.O.auth.onAuthStateChange((e,t)=>{var s;i(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),d(!1)});return()=>e.unsubscribe()},[]);let o=async()=>{await l.O.auth.signOut(),i(null)};return(0,a.jsx)(n.Provider,{value:{user:s,loading:c,signOut:o},children:t})}let c=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2141:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(1545);let r="https://wbuvopdgcksviirckaur.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndidXZvcGRnY2tzdmlpcmNrYXVyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwMjMzMTIsImV4cCI6MjA3NTU5OTMxMn0.elWqpSmCfQ92fpepHoRU77O-x9nMvv8MXZyaV7dUV9s";if(!r||!l)throw Error("Missing Supabase environment variables");let n=(0,a.eI)(r,l)},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(1994),r=s(3335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},3327:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},525:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},9474:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])}},function(e){e.O(0,[4609,8590,1545,3464,2971,2117,1744],function(){return e(e.s=3461)}),_N_E=e.O()}]);