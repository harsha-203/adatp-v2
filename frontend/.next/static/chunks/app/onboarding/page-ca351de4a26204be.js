(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8461],{1853:function(e,t,a){Promise.resolve().then(a.bind(a,303))},303:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(7437),r=a(2265),n=a(9376),s=a(6070),i=a(2869),o=a(5186),c=a(7129),u=a(9179),d=a(2141),h=a(4935),m=a(525),x=a(2023),f=a(2805),g=a(9202);let p=(0,a(9205).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var b=a(5252),y=a(1769),j=a(3581),v=a(2369),k=a(2934),N=a(6831);let Z=[{name:"Web Development",icon:h.Z,color:"bg-blue-100 text-blue-600"},{name:"Mobile Development",icon:h.Z,color:"bg-purple-100 text-purple-600"},{name:"Data Science",icon:m.Z,color:"bg-green-100 text-green-600"},{name:"Machine Learning",icon:x.Z,color:"bg-pink-100 text-pink-600"},{name:"Design",icon:f.Z,color:"bg-orange-100 text-orange-600"},{name:"Marketing",icon:g.Z,color:"bg-red-100 text-red-600"},{name:"Business",icon:p,color:"bg-indigo-100 text-indigo-600"},{name:"Finance",icon:b.Z,color:"bg-teal-100 text-teal-600"},{name:"Language Learning",icon:y.Z,color:"bg-yellow-100 text-yellow-600"},{name:"Photography",icon:j.Z,color:"bg-gray-100 text-gray-600"}];function w(){let{user:e}=(0,u.a)(),t=(0,n.useRouter)(),a=(0,r.useRef)(null),[h,m]=(0,r.useState)(1),[x,f]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[S,_]=(0,r.useState)([]),[M,P]=(0,r.useState)(null),[z,D]=(0,r.useState)(""),[F,E]=(0,r.useState)(!1),I=e=>{S.includes(e)?_(S.filter(t=>t!==e)):_([...S,e])},O=async()=>{if(e){E(!0);try{let a="";if(M){let t=M.name.split(".").pop(),l="".concat(e.id,"-").concat(Date.now(),".").concat(t),r="avatars/".concat(l),{error:n}=await d.O.storage.from("profile-photos").upload(r,M);if(n)console.error("Error uploading photo:",n);else{let{data:e}=d.O.storage.from("profile-photos").getPublicUrl(r);a=e.publicUrl}}await d.O.from("users").update({full_name:x,student_id:g,institution:b,about:w,interests:S,avatar_url:a||null,onboarding_completed:!0,updated_at:new Date().toISOString()}).eq("id",e.id),t.push("/dashboard")}catch(e){console.error("Error saving profile:",e),alert("Error saving profile")}finally{E(!1)}}};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-blue-50 flex items-center justify-center p-4",children:(0,l.jsx)(s.Zb,{className:"max-w-3xl w-full",children:(0,l.jsxs)(s.aY,{className:"p-8",children:[1===h&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Edubox! \uD83C\uDF93"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Let's set up your profile to personalize your learning journey"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(c._,{className:"mb-2",children:"Profile Photo (Optional)"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(N.qE,{className:"w-24 h-24 cursor-pointer",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},children:[(0,l.jsx)(N.F$,{src:z}),(0,l.jsx)(N.Q5,{className:"bg-teal-100",children:(0,l.jsx)(v.Z,{className:"w-12 h-12 text-teal-600"})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},className:"absolute bottom-0 right-0 w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center hover:bg-teal-700 transition-colors",children:(0,l.jsx)(j.Z,{className:"w-4 h-4 text-white"})})]}),(0,l.jsx)("input",{ref:a,type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if(a.size>5242880){alert("File size must be less than 5MB");return}if(!a.type.startsWith("image/")){alert("Please select an image file");return}P(a);let e=new FileReader;e.onloadend=()=>{D(e.result)},e.readAsDataURL(a)}},className:"hidden"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Max file size: 5MB (JPG, PNG, WebP)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c._,{htmlFor:"fullName",children:"Full Name *"}),(0,l.jsx)(o.I,{id:"fullName",value:x,onChange:e=>f(e.target.value),placeholder:"Enter your full name"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c._,{htmlFor:"studentId",children:"Student ID (Optional)"}),(0,l.jsx)(o.I,{id:"studentId",value:g,onChange:e=>p(e.target.value),placeholder:"e.g., STU-2024-001"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c._,{htmlFor:"institution",children:"Institution / Organization"}),(0,l.jsx)(o.I,{id:"institution",value:b,onChange:e=>y(e.target.value),placeholder:"e.g., University of California"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c._,{htmlFor:"about",children:"About You"}),(0,l.jsx)("textarea",{id:"about",className:"w-full border rounded-md p-2 min-h-[100px]",value:w,onChange:e=>C(e.target.value),placeholder:"Tell us a bit about yourself and your learning goals..."})]}),(0,l.jsx)(i.z,{onClick:()=>m(2),disabled:!x,className:"w-full bg-teal-600 hover:bg-teal-700 mt-6",children:"Continue"})]})]}),2===h&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Interests"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Select topics you'd like to learn about (select at least 3)"})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:Z.map(e=>{let t=e.icon,a=S.includes(e.name);return(0,l.jsxs)("button",{onClick:()=>I(e.name),className:"p-4 rounded-lg border-2 transition-all ".concat(a?"border-teal-600 bg-teal-50":"border-gray-200 hover:border-teal-300"),children:[(0,l.jsx)("div",{className:"".concat(e.color," w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-2"),children:(0,l.jsx)(t,{className:"w-6 h-6"})}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),a&&(0,l.jsx)(k.Z,{className:"w-5 h-5 text-teal-600 mx-auto mt-2"})]},e.name)})}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(i.z,{variant:"outline",onClick:()=>m(1),className:"flex-1",children:"Back"}),(0,l.jsx)(i.z,{onClick:O,disabled:S.length<3||F,className:"flex-1 bg-teal-600 hover:bg-teal-700",children:F?"Saving...":"Complete Setup"})]})]})]})})})}},1769:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},2934:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},4935:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])},5252:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2805:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},2023:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},525:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},9376:function(e,t,a){"use strict";var l=a(5475);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}})}},function(e){e.O(0,[4609,8590,1545,2503,2971,2117,1744],function(){return e(e.s=1853)}),_N_E=e.O()}]);