(()=>{var e={};e.id=696,e.ids=[696],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},4060:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d}),t(41075),t(13321),t(68748),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["purchases",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41075)),"/app/frontend/app/dashboard/purchases/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/app/frontend/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,68748)),"/app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/app/frontend/app/dashboard/purchases/page.tsx"],x="/dashboard/purchases/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/purchases/page",pathname:"/dashboard/purchases",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74403:(e,s,t)=>{Promise.resolve().then(t.bind(t,62518))},62518:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(10326),r=t(17577),l=t(35047),i=t(33071),n=t(90772),c=t(567);let d=(0,t(62881).Z)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);var o=t(48705),x=t(86258),u=t(36283),h=t(31540),m=t(51813),p=t(46226),g=t(39047);function j(){let e=(0,l.useRouter)(),{user:s}=(0,m.a)(),[t,j]=(0,r.useState)([]),[b,f]=(0,r.useState)([]),[v,y]=(0,r.useState)(!0),[N,w]=(0,r.useState)("courses");process.env.NEXT_PUBLIC_BACKEND_URL;let _=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"});return v?a.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/3"}),[1,2,3].map(e=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},e))]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-8 py-12",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(d,{className:"w-10 h-10"}),a.jsx("h1",{className:"text-4xl font-bold",children:"My Purchases"})]}),a.jsx("p",{className:"text-xl text-white/90",children:"Access your purchased courses and invoices"})]})}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsx(i.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Spent"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",t.reduce((e,s)=>e+s.price_paid,0).toFixed(2)]})]}),a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center",children:a.jsx(o.Z,{className:"w-6 h-6 text-teal-600"})})]})}),a.jsx(i.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Courses Purchased"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.length})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(x.Z,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(i.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Invoices"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:b.length})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(u.Z,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6 border-b",children:[a.jsx("button",{onClick:()=>w("courses"),className:`px-4 py-2 font-semibold transition-colors relative ${"courses"===N?"text-teal-600 border-b-2 border-teal-600":"text-gray-600 hover:text-gray-900"}`,children:"Purchased Courses"}),a.jsx("button",{onClick:()=>w("invoices"),className:`px-4 py-2 font-semibold transition-colors relative ${"invoices"===N?"text-teal-600 border-b-2 border-teal-600":"text-gray-600 hover:text-gray-900"}`,children:"Invoices"})]}),"courses"===N&&a.jsx("div",{children:0===t.length?(0,a.jsxs)(i.Zb,{className:"p-12 text-center",children:[a.jsx(o.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No purchases yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Browse courses and start learning today"}),a.jsx(n.z,{onClick:()=>e.push("/courses"),className:"bg-teal-600 hover:bg-teal-700",children:"Browse Courses"})]}):a.jsx("div",{className:"space-y-4",children:t.map(s=>a.jsx(i.Zb,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e.push(`/courses/${s.course_id}`),children:(0,a.jsxs)("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-40 h-24 bg-gray-200 rounded-lg overflow-hidden relative",children:s.courses?.thumbnail_url?a.jsx(p.default,{src:s.courses.thumbnail_url,alt:s.courses.title||"Course",fill:!0,className:"object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-teal-100 to-cyan-100",children:a.jsx(x.Z,{className:"w-10 h-10 text-teal-600"})})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.courses?.title||"Course"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[s.courses?.instructor_name&&(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["by ",s.courses.instructor_name]}),s.courses?.category&&a.jsx(c.C,{className:"bg-teal-100 text-teal-800",children:s.courses.category}),s.courses?.difficulty&&a.jsx(c.C,{variant:"outline",children:s.courses.difficulty})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-teal-600",children:(0,g.ML)(s.price_paid)})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Purchased on ",_(s.created_at)]}),(0,a.jsxs)(n.z,{onClick:t=>{t.stopPropagation(),e.push(`/courses/${s.course_id}/learn`)},className:"bg-teal-600 hover:bg-teal-700",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Start Learning"]})]})]})]})},s.id))})}),"invoices"===N&&a.jsx("div",{children:0===b.length?(0,a.jsxs)(i.Zb,{className:"p-12 text-center",children:[a.jsx(u.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No invoices yet"}),a.jsx("p",{className:"text-gray-600",children:"Your purchase invoices will appear here"})]}):a.jsx("div",{className:"space-y-4",children:b.map(e=>(0,a.jsxs)(i.Zb,{className:"p-6 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-6 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(u.Z,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-900 mb-2",children:["Invoice #",e.invoice_number]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Issued: ",_(e.issued_at)]}),e.paid_at&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"â€¢"}),(0,a.jsxs)("span",{children:["Paid: ",_(e.paid_at)]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:["$",e.total.toFixed(2)]}),a.jsx(c.C,{className:"paid"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:e.status.toUpperCase()})]}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Download"]})]})}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Subtotal"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",e.amount.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Tax"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",e.tax.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Total"}),(0,a.jsxs)("p",{className:"font-semibold text-teal-600",children:["$",e.total.toFixed(2)]})]})]})]},e.id))})})]})]})}},567:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var a=t(10326);t(17577);var r=t(79360),l=t(77863);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...t}){return a.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...t})}},39047:(e,s,t)=>{"use strict";function a(e){return Math.round(83*e)}function r(e){var s;return s=a(e),`â‚¹${s.toLocaleString("en-IN")}`}t.d(s,{ML:()=>r,mE:()=>a})},86258:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},31540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},36283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},35047:(e,s,t)=>{"use strict";var a=t(77389);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},41075:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/app/frontend/app/dashboard/purchases/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,175,623,670,705],()=>t(4060));module.exports=a})();